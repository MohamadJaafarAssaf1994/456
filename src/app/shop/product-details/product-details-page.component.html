<section class="mx-auto max-w-2xl p-4">
  <!-- BACK -->
  <button routerLink="/shop/products" class="underline text-blue-600">â† Back to products</button>

  <!-- Loading -->
  <div *ngIf="loading$ | async" class="mt-6 text-gray-600">Loading product...</div>

  <!-- Error -->
  <div *ngIf="error$ | async as err" class="mt-6 text-red-600">
    {{ err }}
  </div>

  <!-- Product Details -->
  <div *ngIf="product$ | async as p" class="mt-6 border p-4 rounded">
    <h2 class="text-3xl font-bold mb-2">{{ p.name }}</h2>

    <p class="text-xl text-gray-700 mb-2">
      Price: <strong>{{ p.price }} â‚¬</strong>
    </p>

    <p class="text-sm text-gray-500 mb-3">Created at: {{ p.created_at }}</p>

    <p class="text-lg text-yellow-600 mb-6">
      â­ Average Rating: <strong>{{ p._avg ?? 'No rating' }}</strong>
    </p>

    <!-- ACTION BUTTONS -->
    <div class="flex items-center gap-4 flex-wrap">
      <!-- ADD TO CART -->
      <button
        class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
        (click)="addToCart(p)"
      >
        ğŸ›’ Add to Cart
      </button>

      <!-- â¤ï¸ WISHLIST -->
      <button class="px-4 py-2 border rounded hover:bg-gray-50" (click)="toggleWishlist(p.id)">
        <ng-container *ngIf="isInWishlist$ | async; else add">
          ğŸ’” Remove from wishlist
        </ng-container>

        <ng-template #add> â¤ï¸ Add to wishlist </ng-template>
      </button>

      <!-- ğŸ§¾ GO TO CART -->
      <a
        routerLink="/shop/cart"
        class="px-4 py-2 border rounded hover:bg-gray-50 flex items-center"
      >
        ğŸ§¾ Go to Cart
      </a>
    </div>
  </div>
</section>
